<Page
    x:Class="DivitageWinUI.Views.SettingsPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">

    <ScrollViewer>
        <StackPanel Padding="24" Spacing="24">
            <TextBlock Text="設定" Style="{StaticResource TitleTextBlockStyle}" />

            <!-- テーマ設定 -->
            <StackPanel Spacing="8">
                <TextBlock Text="外観" FontWeight="SemiBold" Style="{StaticResource SubtitleTextBlockStyle}" />
                <RadioButtons x:Name="ThemeRadioButtons" Header="テーマ" SelectionChanged="OnThemeSelectionChanged">
                    <RadioButton Content="システム設定に従う" Tag="0" />
                    <RadioButton Content="ライト" Tag="1" />
                    <RadioButton Content="ダーク" Tag="2" />
                </RadioButtons>
            </StackPanel>

            <!-- 一般設定 -->
            <StackPanel Spacing="8">
                <TextBlock Text="一般" FontWeight="SemiBold" Style="{StaticResource SubtitleTextBlockStyle}" />
                <ToggleSwitch x:Name="LaunchAtLoginToggle" Header="ログイン時に起動" Toggled="OnLaunchAtLoginToggled" />
                <ToggleSwitch x:Name="AutoCleanupToggle" Header="処理完了後に一時ファイルを削除" Toggled="OnAutoCleanupToggled" />
                <ToggleSwitch x:Name="PreserveTimestampToggle" Header="タイムスタンプを保持" Toggled="OnPreserveTimestampToggled" />
            </StackPanel>

            <!-- 履歴設定 -->
            <StackPanel Spacing="8">
                <TextBlock Text="履歴" FontWeight="SemiBold" Style="{StaticResource SubtitleTextBlockStyle}" />
                <StackPanel Orientation="Horizontal" Spacing="8">
                    <TextBlock Text="履歴保持期間:" VerticalAlignment="Center" />
                    <NumberBox x:Name="HistoryRetentionDaysBox"
                               Minimum="1"
                               Maximum="365"
                               SpinButtonPlacementMode="Inline"
                               Width="120"
                               ValueChanged="OnHistoryRetentionDaysChanged" />
                    <TextBlock Text="日" VerticalAlignment="Center" />
                </StackPanel>
            </StackPanel>

            <!-- 保存先設定 -->
            <StackPanel Spacing="8">
                <TextBlock Text="保存先" FontWeight="SemiBold" Style="{StaticResource SubtitleTextBlockStyle}" />
                <TextBlock x:Name="OutputDirectoryText" TextWrapping="Wrap" />
                <Button Content="エクスプローラーで開く" Click="OnRevealClicked" />
            </StackPanel>

            <!-- バージョン情報 -->
            <StackPanel Spacing="8">
                <TextBlock Text="情報" FontWeight="SemiBold" Style="{StaticResource SubtitleTextBlockStyle}" />
                <TextBlock Text="Divitage for Windows" />
                <TextBlock Text="Version 1.0.0" Opacity="0.7" />
                <HyperlinkButton Content="GitHubで見る" NavigateUri="https://github.com/cho5butter/Divitage" />
            </StackPanel>
        </StackPanel>
    </ScrollViewer>
</Page>
